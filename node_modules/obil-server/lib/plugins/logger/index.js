var scope = require('./scope');
var utils = require('obil-utils');
var debug = utils.core.debug('obil:server:plugins.logger');


/**
 * createLogger
 *
 * Creates logger and starts handling log disposing.
 *
 * @param {Object} options
 * @returns {Function} middleware
 */
module.exports = function createLogger(options) {
  var opts = options || {};
  if (opts.outputFormat) {
    debug.warn('Deprecated [options.logger.outputFormat] is not in use, to get inline format use options.logger.sink=console');
  }
  return scope.request(opts);
};
